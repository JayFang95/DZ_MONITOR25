<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dzkj.mapper.data.PushPointJnMapper">

    <select id="queryList" resultType="com.dzkj.entity.data.PushPointJn">
        select ppj.*, p.name as pointName, p.type as pointType
        from push_point_jn ppj
        left join point p on p.id = ppj.point_id
        where ppj.push_task_id = #{taskId}
    </select>

    <select id="queryByMissionId" resultType="com.dzkj.entity.data.PushPointJn">
        select pp.point_id, pp.alarm_handler
        from push_point_jn pp
        left join push_task pt on pp.push_task_id = pt.id
        where pt.mission_id = #{missionId}
    </select>

</mapper>
